{"ast":null,"code":"var _jsxFileName = \"/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/src/pages/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useLocation, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport NavBar from \"../components/NavBar/NavBar.js\";\nimport Timeline from \"../components/Timeline/Timeline.js\";\nimport SideBar from \"../components/SideBar/SideBar.js\";\n/* images */\n\nimport logoHome from \"../images/icons/navBarIcons/outline_home_white_24dp_2x.png\";\nimport logoExplore from \"../images/icons/navBarIcons/outline_tag_white_24dp_2x.png\";\nimport logoNotifications from \"../images/icons/navBarIcons/outline_notifications_white_24dp_2x.png\";\nimport logoMessages from \"../images/icons/navBarIcons/outline_email_white_24dp_2x.png\";\nimport logoBookmark from \"../images/icons/navBarIcons/outline_bookmark_border_white_24dp_2x.png\";\nimport logoLists from \"../images/icons/navBarIcons/outline_list_alt_white_24dp_2x.png\";\nimport logoProfile from \"../images/icons/navBarIcons/outline_person_white_24dp_2x.png\";\nimport logoMoreOptions from \"../images/icons/navBarIcons/outline_more_horiz_white_24dp_2x.png\"; // import { tweets } from \"../database/tweets.js\";\n// import { users } from \"../database/users.js\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAX_NB_TWEETS = 100;\nexport default function Profile() {\n  _s();\n\n  const {\n    state\n  } = useLocation();\n  const navigate = useNavigate();\n  useEffect(() => {\n    document.title = \"Profile - Birdy\";\n\n    async function getListTweets() {\n      let {\n        alreadyLogged,\n        userId\n      } = state;\n      setAlreadyLogged({\n        alreadyLogged,\n        userId\n      });\n\n      if (alreadyLogged) {\n        //console.log('test already logged');\n        await axios.get(`/apiTweet/tweet/${userId}/${MAX_NB_TWEETS}`).then(res => {\n          setTweets(res.data);\n        });\n      } else {\n        await axios.get(`/apiTweet/tweet/getNTweets/${MAX_NB_TWEETS}`).then(res => {\n          //console.log('tweets: ', res.data);\n          setTweets(res.data);\n        });\n      }\n    }\n\n    getListTweets();\n  }, [state]);\n  const [tweets, setTweets] = useState([]);\n  const [alreadyLogged, setAlreadyLogged] = useState({});\n\n  function handleBackToUserPage(event) {\n    event.preventDefault();\n    navigate(`/p/${user_id}`, {\n      state: {\n        alreadyLogged: false,\n        userId: user_id\n      },\n      replace: false\n    });\n  }\n\n  function handleListTweet(event) {\n    event.preventDefault();\n    navigate(`/p/${user_id}`, {\n      state: {\n        alreadyLogged: true,\n        userId: user_id\n      },\n      replace: false\n    });\n  }\n\n  const menuIcons = [{\n    id: \"profile-home\",\n    src: logoHome,\n    alt: \"home menu\",\n    msg: \"Home\",\n    onClick: handleBackToUserPage\n  }, {\n    id: \"profile-explore\",\n    src: logoExplore,\n    alt: \"explore menu\",\n    msg: \"Explore\"\n  }, {\n    id: \"profile-notifications\",\n    src: logoNotifications,\n    alt: \"notification menu\",\n    msg: \"Notifications\"\n  }, {\n    id: \"profile-messages\",\n    src: logoMessages,\n    alt: \"messages menu\",\n    msg: \"Messages\"\n  }, {\n    id: \"profile-bookmarks\",\n    src: logoBookmark,\n    alt: \"bookmarks menu\",\n    msg: \"Bookmarks\"\n  }, {\n    id: \"profile-lists\",\n    src: logoLists,\n    alt: \"lists menu\",\n    msg: \"Lists\"\n  }, {\n    id: \"profile-profile\",\n    src: logoProfile,\n    alt: \"profile menu\",\n    msg: \"Profile\"\n  }, {\n    id: \"profile-more\",\n    src: logoMoreOptions,\n    alt: \"more option menu\",\n    msg: \"More\"\n  }]; //console.log('params: ', useParams())\n\n  const user_id = useParams()['id'];\n  const [user, setUser] = useState(async () => {\n    await axios.get(`/api/user/${user_id}`).then(res => {\n      //console.log('user: ', res.data);\n      setUser(res.data);\n    });\n  });\n\n  function scrollToTop() {\n    document.getElementById(\"timeline-main\").scrollTo({\n      top: 0,\n      behavior: \"smooth\"\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile row max-height\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      logged: true,\n      menuIcons: menuIcons\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Timeline, {\n      scroll: scrollToTop,\n      default: false,\n      tweets: tweets,\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SideBar, {\n      logged: true,\n      user: alreadyLogged['alreadyLogged'] ? alreadyLogged['userId'] : user_id,\n      connectedUser: alreadyLogged['alreadyLogged'] ? user_id : false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Profile, \"/6NetwXufLAbv/fwimQKxb6DNNg=\", false, function () {\n  return [useLocation, useNavigate, useParams];\n});\n\n_c = Profile;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/src/pages/Profile.js"],"names":["React","useEffect","useState","useParams","useLocation","useNavigate","axios","NavBar","Timeline","SideBar","logoHome","logoExplore","logoNotifications","logoMessages","logoBookmark","logoLists","logoProfile","logoMoreOptions","MAX_NB_TWEETS","Profile","state","navigate","document","title","getListTweets","alreadyLogged","userId","setAlreadyLogged","get","then","res","setTweets","data","tweets","handleBackToUserPage","event","preventDefault","user_id","replace","handleListTweet","menuIcons","id","src","alt","msg","onClick","user","setUser","scrollToTop","getElementById","scrollTo","top","behavior"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams, useLocation, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport NavBar from \"../components/NavBar/NavBar.js\";\nimport Timeline from \"../components/Timeline/Timeline.js\";\nimport SideBar from \"../components/SideBar/SideBar.js\";\n\n/* images */\nimport logoHome from \"../images/icons/navBarIcons/outline_home_white_24dp_2x.png\";\nimport logoExplore from \"../images/icons/navBarIcons/outline_tag_white_24dp_2x.png\";\nimport logoNotifications from \"../images/icons/navBarIcons/outline_notifications_white_24dp_2x.png\";\nimport logoMessages from \"../images/icons/navBarIcons/outline_email_white_24dp_2x.png\";\nimport logoBookmark from \"../images/icons/navBarIcons/outline_bookmark_border_white_24dp_2x.png\";\nimport logoLists from \"../images/icons/navBarIcons/outline_list_alt_white_24dp_2x.png\";\nimport logoProfile from \"../images/icons/navBarIcons/outline_person_white_24dp_2x.png\";\nimport logoMoreOptions from \"../images/icons/navBarIcons/outline_more_horiz_white_24dp_2x.png\";\n\n// import { tweets } from \"../database/tweets.js\";\n// import { users } from \"../database/users.js\";\n\nconst MAX_NB_TWEETS = 100;\n\nexport default function Profile(){\n    const {state} = useLocation();\n    const navigate = useNavigate();\n\n    useEffect( () => {\n        document.title = \"Profile - Birdy\";\n        async function getListTweets() {\n            let {alreadyLogged, userId} = state;\n            setAlreadyLogged({alreadyLogged, userId});\n            if(alreadyLogged){\n                //console.log('test already logged');\n                await axios\n                    .get(`/apiTweet/tweet/${userId}/${MAX_NB_TWEETS}`)\n                    .then( (res) => {\n                        setTweets(res.data);\n                    });\n            } else {\n                await axios\n                        .get(`/apiTweet/tweet/getNTweets/${MAX_NB_TWEETS}`)\n                        .then( (res) => {\n                            //console.log('tweets: ', res.data);\n                            setTweets(res.data);\n                        });\n                }\n            }\n        getListTweets();\n    }, [state]);\n\n    const [tweets, setTweets] = useState([]);\n    const [alreadyLogged, setAlreadyLogged] = useState({})\n\n    function handleBackToUserPage(event){\n        event.preventDefault();\n        navigate(`/p/${user_id}`, { state: { alreadyLogged: false, userId: user_id }, replace: false, });\n    }\n\n    function handleListTweet(event){\n        event.preventDefault();\n        navigate(`/p/${user_id}`, { state: { alreadyLogged: true, userId: user_id }, replace: false, });\n    }\n\n    const menuIcons = [\n        {id:\"profile-home\", src:logoHome, alt:\"home menu\", msg:\"Home\", onClick:handleBackToUserPage},\n        {id:\"profile-explore\", src:logoExplore, alt:\"explore menu\", msg:\"Explore\"},\n        {id:\"profile-notifications\", src:logoNotifications, alt:\"notification menu\", msg:\"Notifications\"},\n        {id:\"profile-messages\", src:logoMessages, alt:\"messages menu\", msg:\"Messages\"},\n        {id:\"profile-bookmarks\", src:logoBookmark, alt:\"bookmarks menu\", msg:\"Bookmarks\"},\n        {id:\"profile-lists\", src:logoLists, alt:\"lists menu\", msg:\"Lists\"},\n        {id:\"profile-profile\", src:logoProfile, alt:\"profile menu\", msg:\"Profile\"},\n        {id:\"profile-more\", src:logoMoreOptions, alt:\"more option menu\", msg:\"More\"}\n    ];\n\n    //console.log('params: ', useParams())\n    const user_id = useParams()['id'];\n\n    const [user, setUser] = useState(\n        async () => {\n            await axios\n                .get(`/api/user/${user_id}`)\n                .then( (res) => {\n                    //console.log('user: ', res.data);\n                    setUser(res.data);\n                });\n        }\n    );\n\n    function scrollToTop() {\n        document.getElementById(\"timeline-main\").scrollTo({\n          top: 0,\n          behavior: \"smooth\"\n        });\n      }\n\n    return(\n        <div className=\"profile row max-height\">\n            <NavBar logged={true} menuIcons={menuIcons}/>\n            <Timeline scroll={scrollToTop} default={false} tweets={tweets} user={user}/>\n            <SideBar logged={true} user={alreadyLogged['alreadyLogged']? alreadyLogged['userId'] : user_id} connectedUser={alreadyLogged['alreadyLogged']? user_id : false}/>\n        </div>\n    )\n};"]},"metadata":{},"sourceType":"module"}