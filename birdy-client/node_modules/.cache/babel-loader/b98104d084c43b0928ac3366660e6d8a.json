{"ast":null,"code":"import _toConsumableArray from \"/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"as\", \"component\", \"email\", \"hashtag\", \"linkProps\", \"linkStyle\", \"matchers\", \"mention\", \"onPress\", \"onLongPress\", \"phone\", \"renderLink\", \"renderText\", \"showAlert\", \"stripPrefix\", \"stripTrailingSlash\", \"text\", \"textProps\", \"truncate\", \"truncateChars\", \"truncateLocation\", \"url\", \"useNativeSchemes\"];\n\n/*!\n * React Native Autolink\n *\n * Copyright 2016-2021 Josh Swan\n * Released under the MIT license\n * https://github.com/joshswan/react-native-autolink/blob/master/LICENSE\n */\nimport React, { createElement, useCallback, useRef } from 'react';\nimport { Autolinker, AnchorTagBuilder } from 'autolinker/dist/es2015';\nimport { Alert, Linking, StyleSheet, Text } from 'react-native';\nimport { truncate } from './truncate';\nimport { CustomMatch } from './CustomMatch';\nimport * as urls from './urls';\n\nvar makeTokenGenerator = function makeTokenGenerator(uid) {\n  var counter = 0;\n  return [// eslint-disable-next-line no-plusplus\n  function () {\n    return \"@__ELEMENT-\".concat(uid, \"-\").concat(counter++, \"__@\");\n  }, new RegExp(\"(@__ELEMENT-\".concat(uid, \"-\\\\d+__@)\"), 'g')];\n};\n\nvar styles = StyleSheet.create({\n  link: {\n    color: '#0E7AFE'\n  }\n});\nvar tagBuilder = new AnchorTagBuilder();\nexport var Autolink = React.memo(function (_ref) {\n  var as = _ref.as,\n      component = _ref.component,\n      _ref$email = _ref.email,\n      email = _ref$email === void 0 ? true : _ref$email,\n      _ref$hashtag = _ref.hashtag,\n      hashtag = _ref$hashtag === void 0 ? false : _ref$hashtag,\n      _ref$linkProps = _ref.linkProps,\n      linkProps = _ref$linkProps === void 0 ? {} : _ref$linkProps,\n      linkStyle = _ref.linkStyle,\n      _ref$matchers = _ref.matchers,\n      matchers = _ref$matchers === void 0 ? [] : _ref$matchers,\n      _ref$mention = _ref.mention,\n      mention = _ref$mention === void 0 ? false : _ref$mention,\n      onPressProp = _ref.onPress,\n      onLongPressProp = _ref.onLongPress,\n      _ref$phone = _ref.phone,\n      phone = _ref$phone === void 0 ? false : _ref$phone,\n      renderLinkProp = _ref.renderLink,\n      renderText = _ref.renderText,\n      _ref$showAlert = _ref.showAlert,\n      showAlert = _ref$showAlert === void 0 ? false : _ref$showAlert,\n      _ref$stripPrefix = _ref.stripPrefix,\n      stripPrefix = _ref$stripPrefix === void 0 ? true : _ref$stripPrefix,\n      _ref$stripTrailingSla = _ref.stripTrailingSlash,\n      stripTrailingSlash = _ref$stripTrailingSla === void 0 ? true : _ref$stripTrailingSla,\n      text = _ref.text,\n      _ref$textProps = _ref.textProps,\n      textProps = _ref$textProps === void 0 ? {} : _ref$textProps,\n      _ref$truncate = _ref.truncate,\n      truncateProp = _ref$truncate === void 0 ? 0 : _ref$truncate,\n      _ref$truncateChars = _ref.truncateChars,\n      truncateChars = _ref$truncateChars === void 0 ? '..' : _ref$truncateChars,\n      _ref$truncateLocation = _ref.truncateLocation,\n      truncateLocation = _ref$truncateLocation === void 0 ? 'smart' : _ref$truncateLocation,\n      _ref$url = _ref.url,\n      url = _ref$url === void 0 ? true : _ref$url,\n      _ref$useNativeSchemes = _ref.useNativeSchemes,\n      useNativeSchemes = _ref$useNativeSchemes === void 0 ? false : _ref$useNativeSchemes,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var getUrl = useCallback(function (match) {\n    switch (match.getType()) {\n      case 'email':\n        return urls.getEmailUrl(match);\n\n      case 'hashtag':\n        return urls.getHashtagUrl(match, hashtag, useNativeSchemes);\n\n      case 'mention':\n        return urls.getMentionUrl(match, mention, useNativeSchemes);\n\n      case 'phone':\n        return urls.getPhoneUrl(match, phone);\n\n      default:\n        return match.getAnchorHref();\n    }\n  }, [hashtag, mention, phone, useNativeSchemes]);\n\n  var _onPress = useCallback(function (match, alertShown) {\n    var _a, _b; // Bypass default press handling if matcher has custom onPress\n\n\n    if (match instanceof CustomMatch && match.getMatcher().onPress) {\n      (_b = (_a = match.getMatcher()).onPress) === null || _b === void 0 ? void 0 : _b.call(_a, match);\n      return;\n    } // Check if alert needs to be shown\n\n\n    if (showAlert && !alertShown) {\n      Alert.alert('Leaving App', 'Do you want to continue?', [{\n        text: 'Cancel',\n        style: 'cancel'\n      }, {\n        text: 'OK',\n        onPress: function onPress() {\n          return _onPress(match, true);\n        }\n      }]);\n      return;\n    }\n\n    var linkUrl = getUrl(match);\n\n    if (onPressProp) {\n      onPressProp(linkUrl, match);\n    } else {\n      Linking.openURL(linkUrl);\n    }\n  }, [getUrl, onPressProp, showAlert]);\n\n  var _onLongPress = useCallback(function (match) {\n    var _a, _b; // Bypass default press handling if matcher has custom onLongPress\n\n\n    if (match instanceof CustomMatch && match.getMatcher().onLongPress) {\n      (_b = (_a = match.getMatcher()).onLongPress) === null || _b === void 0 ? void 0 : _b.call(_a, match);\n      return;\n    }\n\n    if (onLongPressProp) {\n      var linkUrl = getUrl(match);\n      onLongPressProp(linkUrl, match);\n    }\n  }, [getUrl, onLongPressProp]);\n\n  var renderLink = useCallback(function (linkText, match, index) {\n    var truncated = truncateProp ? truncate(linkText, truncateProp, truncateChars, truncateLocation) : linkText;\n    return React.createElement(Text, Object.assign({\n      style: match instanceof CustomMatch && match.getMatcher().style || linkStyle || styles.link,\n      onPress: function onPress() {\n        return _onPress(match);\n      },\n      onLongPress: function onLongPress() {\n        return _onLongPress(match);\n      }\n    }, linkProps, {\n      key: index\n    }), truncated);\n  }, [linkProps, linkStyle, truncateProp, truncateChars, truncateLocation, _onPress, _onLongPress]); // Creates a token with a random UID that should not be guessable or\n  // conflict with other parts of the string.\n\n  var uid = useRef(Math.floor(Math.random() * 0x10000000000).toString(16));\n\n  var _makeTokenGenerator = makeTokenGenerator(uid.current),\n      _makeTokenGenerator2 = _slicedToArray(_makeTokenGenerator, 2),\n      generateToken = _makeTokenGenerator2[0],\n      tokenRegexp = _makeTokenGenerator2[1];\n\n  var matches = {};\n  var linkedText;\n\n  try {\n    linkedText = Autolinker.link(text || '', {\n      email: email,\n      hashtag: hashtag,\n      mention: mention,\n      phone: !!phone,\n      urls: url,\n      stripPrefix: stripPrefix,\n      stripTrailingSlash: stripTrailingSlash,\n      replaceFn: function replaceFn(match) {\n        var token = generateToken();\n        matches[token] = match;\n        return token;\n      }\n    }); // User-specified custom matchers\n\n    matchers.forEach(function (matcher) {\n      linkedText = linkedText.replace(matcher.pattern, function () {\n        var token = generateToken();\n\n        for (var _len = arguments.length, replacerArgs = new Array(_len), _key = 0; _key < _len; _key++) {\n          replacerArgs[_key] = arguments[_key];\n        }\n\n        var matchedText = replacerArgs[0];\n        matches[token] = new CustomMatch({\n          matcher: matcher,\n          matchedText: matchedText,\n          offset: replacerArgs[replacerArgs.length - 2],\n          replacerArgs: replacerArgs,\n          tagBuilder: tagBuilder\n        });\n        return token;\n      });\n    });\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.warn('RN Autolink error:', e);\n    return null;\n  }\n\n  var nodes = linkedText.split(tokenRegexp).filter(function (part) {\n    return !!part;\n  }).map(function (part, index) {\n    var match = matches[part]; // Check if rendering link or text node\n\n    if (match === null || match === void 0 ? void 0 : match.getType()) {\n      return (renderLinkProp || renderLink)(match.getAnchorText(), match, index);\n    }\n\n    return renderText ? renderText(part, index) : // eslint-disable-next-line react/jsx-props-no-spreading, react/no-array-index-key\n    React.createElement(Text, Object.assign({}, textProps, {\n      key: index\n    }), part);\n  });\n  return createElement.apply(void 0, [as || component || Text, props].concat(_toConsumableArray(nodes)));\n});","map":{"version":3,"sources":["/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/node_modules/react-native-autolink/dist/Autolink.js"],"names":["React","createElement","useCallback","useRef","Autolinker","AnchorTagBuilder","Alert","Linking","StyleSheet","Text","truncate","CustomMatch","urls","makeTokenGenerator","uid","counter","RegExp","styles","create","link","color","tagBuilder","Autolink","memo","as","component","email","hashtag","linkProps","linkStyle","matchers","mention","onPressProp","onPress","onLongPressProp","onLongPress","phone","renderLinkProp","renderLink","renderText","showAlert","stripPrefix","stripTrailingSlash","text","textProps","truncateProp","truncateChars","truncateLocation","url","useNativeSchemes","props","getUrl","match","getType","getEmailUrl","getHashtagUrl","getMentionUrl","getPhoneUrl","getAnchorHref","alertShown","_a","_b","getMatcher","call","alert","style","linkUrl","openURL","linkText","index","truncated","Object","assign","key","Math","floor","random","toString","current","generateToken","tokenRegexp","matches","linkedText","replaceFn","token","forEach","matcher","replace","pattern","replacerArgs","matchedText","offset","length","e","console","warn","nodes","split","filter","part","map","getAnchorText"],"mappings":"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","sourcesContent":["/*!\n * React Native Autolink\n *\n * Copyright 2016-2021 Josh Swan\n * Released under the MIT license\n * https://github.com/joshswan/react-native-autolink/blob/master/LICENSE\n */\nimport React, { createElement, useCallback, useRef } from 'react';\nimport { Autolinker, AnchorTagBuilder, } from 'autolinker/dist/es2015';\nimport { Alert, Linking, StyleSheet, Text } from 'react-native';\nimport { truncate } from './truncate';\nimport { CustomMatch } from './CustomMatch';\nimport * as urls from './urls';\nconst makeTokenGenerator = (uid) => {\n    let counter = 0;\n    return [\n        // eslint-disable-next-line no-plusplus\n        () => `@__ELEMENT-${uid}-${counter++}__@`,\n        new RegExp(`(@__ELEMENT-${uid}-\\\\d+__@)`, 'g'),\n    ];\n};\nconst styles = StyleSheet.create({\n    link: {\n        color: '#0E7AFE',\n    },\n});\nconst tagBuilder = new AnchorTagBuilder();\nexport const Autolink = React.memo(({ as, component, email = true, hashtag = false, linkProps = {}, linkStyle, matchers = [], mention = false, onPress: onPressProp, onLongPress: onLongPressProp, phone = false, renderLink: renderLinkProp, renderText, showAlert = false, stripPrefix = true, stripTrailingSlash = true, text, textProps = {}, truncate: truncateProp = 0, truncateChars = '..', truncateLocation = 'smart', url = true, useNativeSchemes = false, ...props }) => {\n    const getUrl = useCallback((match) => {\n        switch (match.getType()) {\n            case 'email':\n                return urls.getEmailUrl(match);\n            case 'hashtag':\n                return urls.getHashtagUrl(match, hashtag, useNativeSchemes);\n            case 'mention':\n                return urls.getMentionUrl(match, mention, useNativeSchemes);\n            case 'phone':\n                return urls.getPhoneUrl(match, phone);\n            default:\n                return match.getAnchorHref();\n        }\n    }, [hashtag, mention, phone, useNativeSchemes]);\n    const onPress = useCallback((match, alertShown) => {\n        var _a, _b;\n        // Bypass default press handling if matcher has custom onPress\n        if (match instanceof CustomMatch && match.getMatcher().onPress) {\n            (_b = (_a = match.getMatcher()).onPress) === null || _b === void 0 ? void 0 : _b.call(_a, match);\n            return;\n        }\n        // Check if alert needs to be shown\n        if (showAlert && !alertShown) {\n            Alert.alert('Leaving App', 'Do you want to continue?', [\n                { text: 'Cancel', style: 'cancel' },\n                { text: 'OK', onPress: () => onPress(match, true) },\n            ]);\n            return;\n        }\n        const linkUrl = getUrl(match);\n        if (onPressProp) {\n            onPressProp(linkUrl, match);\n        }\n        else {\n            Linking.openURL(linkUrl);\n        }\n    }, [getUrl, onPressProp, showAlert]);\n    const onLongPress = useCallback((match) => {\n        var _a, _b;\n        // Bypass default press handling if matcher has custom onLongPress\n        if (match instanceof CustomMatch && match.getMatcher().onLongPress) {\n            (_b = (_a = match.getMatcher()).onLongPress) === null || _b === void 0 ? void 0 : _b.call(_a, match);\n            return;\n        }\n        if (onLongPressProp) {\n            const linkUrl = getUrl(match);\n            onLongPressProp(linkUrl, match);\n        }\n    }, [getUrl, onLongPressProp]);\n    const renderLink = useCallback((linkText, match, index) => {\n        const truncated = truncateProp\n            ? truncate(linkText, truncateProp, truncateChars, truncateLocation)\n            : linkText;\n        return (React.createElement(Text, Object.assign({ style: (match instanceof CustomMatch && match.getMatcher().style) || linkStyle || styles.link, onPress: () => onPress(match), onLongPress: () => onLongPress(match) }, linkProps, { key: index }), truncated));\n    }, [linkProps, linkStyle, truncateProp, truncateChars, truncateLocation, onPress, onLongPress]);\n    // Creates a token with a random UID that should not be guessable or\n    // conflict with other parts of the string.\n    const uid = useRef(Math.floor(Math.random() * 0x10000000000).toString(16));\n    const [generateToken, tokenRegexp] = makeTokenGenerator(uid.current);\n    const matches = {};\n    let linkedText;\n    try {\n        linkedText = Autolinker.link(text || '', {\n            email,\n            hashtag,\n            mention,\n            phone: !!phone,\n            urls: url,\n            stripPrefix,\n            stripTrailingSlash,\n            replaceFn: (match) => {\n                const token = generateToken();\n                matches[token] = match;\n                return token;\n            },\n        });\n        // User-specified custom matchers\n        matchers.forEach((matcher) => {\n            linkedText = linkedText.replace(matcher.pattern, (...replacerArgs) => {\n                const token = generateToken();\n                const matchedText = replacerArgs[0];\n                matches[token] = new CustomMatch({\n                    matcher,\n                    matchedText,\n                    offset: replacerArgs[replacerArgs.length - 2],\n                    replacerArgs,\n                    tagBuilder,\n                });\n                return token;\n            });\n        });\n    }\n    catch (e) {\n        // eslint-disable-next-line no-console\n        console.warn('RN Autolink error:', e);\n        return null;\n    }\n    const nodes = linkedText\n        .split(tokenRegexp)\n        .filter((part) => !!part)\n        .map((part, index) => {\n        const match = matches[part];\n        // Check if rendering link or text node\n        if (match === null || match === void 0 ? void 0 : match.getType()) {\n            return (renderLinkProp || renderLink)(match.getAnchorText(), match, index);\n        }\n        return renderText ? (renderText(part, index)) : (\n        // eslint-disable-next-line react/jsx-props-no-spreading, react/no-array-index-key\n        React.createElement(Text, Object.assign({}, textProps, { key: index }), part));\n    });\n    return createElement(as || component || Text, props, ...nodes);\n});\n"]},"metadata":{},"sourceType":"module"}