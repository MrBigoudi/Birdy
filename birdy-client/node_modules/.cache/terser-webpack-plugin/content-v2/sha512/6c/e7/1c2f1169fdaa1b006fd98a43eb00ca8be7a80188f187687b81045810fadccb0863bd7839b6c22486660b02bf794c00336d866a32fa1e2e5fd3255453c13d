{"code":"(this[\"webpackJsonpbirdy-client\"]=this[\"webpackJsonpbirdy-client\"]||[]).push([[6],{107:function(e,a,t){},112:function(e,a,t){\"use strict\";t.r(a),t.d(a,\"default\",(function(){return h}));var s=t(23),n=t(27),r=t(26),o=t(4),c=t(24),l=t.n(c),i=t(0),u=t(1),m=t(9),p=t(22),d=t.n(p),f=t(5),b=t(10),j=(t(107),t(29),t(2));function h(){Object(i.useEffect)((function(){document.title=\"Signup - Birdy\"}),[]);var e=Object(u.f)(),a=Object(i.useState)({username:\"\",dateOfBirth:\"\",fullname:\"\",emailAddress:\"\",passwd:\"\"}),t=Object(o.a)(a,2),c=t[0],p=t[1],h=Object(i.useState)(!0),g=Object(o.a)(h,2),O=g[0],x=g[1],v=\"\"===c.passwd||\"\"===c.emailAddress||\"\"===c.username||\"\"===c.dateOfBirth||\"\"===c.fullname;function y(e){p((function(a){return Object(r.a)(Object(r.a)({},a),{},Object(n.a)({},e.target.name,e.target.value))}))}var N=function(a){if(201!==a.data.status)x(a.data.message),console.log(\"error: \",O);else{var t=a.data.id;e(\"/p/\".concat(t),{user_id:t,state:{},replace:!0})}},w=function(e){e.response?(console.log(\"err.response.data: \",e.response.data),console.log(\"err.response.status: \",e.response.status),console.log(\"err.response.headers: \",e.response.headers),x(e.response.data.message)):e.request?console.log(e.request):console.log(\"Error\",e.message),console.log(e.config)},E=function(){var e=Object(s.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),d.a.post(\"/api/user/signup\",c).then((function(e){N(e)})).catch((function(e){w(e)}));case 2:case\"end\":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(j.jsxs)(\"main\",{className:\"form-page-main column gap20\",children:[Object(j.jsxs)(\"div\",{className:\"form-container column gap20\",children:[Object(j.jsx)(b.a,{}),Object(j.jsxs)(\"form\",{className:\"base-form column\",onSubmit:E,children:[Object(j.jsx)(\"input\",{className:\"form-input\",type:\"text\",placeholder:\"Username\",\"aria-label\":\"Enter your username\",name:\"username\",onChange:y,value:c.username}),Object(j.jsx)(\"input\",{className:\"form-input\",type:\"text\",placeholder:\"Fullname\",\"aria-label\":\"Enter your fullname\",name:\"fullname\",onChange:y,value:c.fullname}),Object(j.jsx)(\"input\",{className:\"form-input signup-birthday\",type:\"text\",onFocus:function(e){e.target.type=\"date\"},onBlur:function(e){e.target.type=\"text\"},placeholder:\"Date of Birth\",\"aria-label\":\"Enter your date of birth\",name:\"dateOfBirth\",onChange:y,value:c.dateOfBirth}),Object(j.jsx)(\"input\",{className:\"form-input\",type:\"email\",placeholder:\"Email address\",\"aria-label\":\"Enter your email address\",name:\"emailAddress\",onChange:y,value:c.emailAddress}),Object(j.jsx)(\"input\",{className:\"form-input\",type:\"password\",placeholder:\"Password\",\"aria-label\":\"Enter your password\",name:\"passwd\",onChange:y,value:c.passwd}),Object(j.jsx)(\"input\",{className:\"form-submit \".concat(v?\"submit-invalid\":\"submit\"),type:\"submit\",value:\"Sign Up\",disabled:v})]}),O&&Object(j.jsx)(\"p\",{className:\"error-message form-error\",children:O})]}),Object(j.jsx)(\"div\",{className:\"base-form-footer\",children:Object(j.jsxs)(\"p\",{children:[\"Have an account?\\u2002\",Object(j.jsx)(m.b,{className:\"link-route\",to:f.b,children:\"Log in\"})]})})]})}},29:function(e,a,t){}}]);","name":"static/js/6.4488fd6a.chunk.js","map":{"version":3,"sources":["static/js/6.4488fd6a.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","d","Signup","_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__","_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__","_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__","_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__","_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__","_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default","n","react__WEBPACK_IMPORTED_MODULE_5__","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","axios__WEBPACK_IMPORTED_MODULE_8__","axios__WEBPACK_IMPORTED_MODULE_8___default","_constants_routes_js__WEBPACK_IMPORTED_MODULE_9__","_atomComponents_Birdy_logo_js__WEBPACK_IMPORTED_MODULE_10__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__","Object","document","title","navigate","_useState","username","dateOfBirth","fullname","emailAddress","passwd","_useState2","formData","setFormData","_useState3","_useState4","error","setError","isInvalid","handleChange","event","prev","target","name","value","answer_signup","res","data","console","log","_id","concat","user_id","state","replace","answer_signup_err","err","response","status","headers","request","message","config","handleSignup","_ref","a","mark","_callee","wrap","_context","next","preventDefault","post","then","catch","stop","_x","apply","arguments","className","children","onSubmit","type","placeholder","onChange","onFocus","e","onBlur","disabled","to"],"mappings":"CAACA,KAAK,4BAA8BA,KAAK,6BAA+B,IAAIC,KAAK,CAAC,CAAC,GAAG,CAEhF,IACA,SAAUC,EAAQC,EAASC,KAM3B,IACA,SAAUF,EAAQG,EAAqBD,GAE7C,aACAA,EAAoBE,EAAED,GACSD,EAAoBG,EAAEF,EAAqB,WAAW,WAAa,OAAOG,KACpF,IAAIC,EAAgJL,EAAoB,IACpKM,EAA8IN,EAAoB,IAClKO,EAA6IP,EAAoB,IACjKQ,EAA6IR,EAAoB,GACjKS,EAAqIT,EAAoB,IACzJU,EAA0JV,EAAoBW,EAAEF,GAChLG,EAAqCZ,EAAoB,GAEzDa,EAAgDb,EAAoB,GACpEc,EAAgDd,EAAoB,GACpEe,EAAqCf,EAAoB,IACzDgB,EAA0DhB,EAAoBW,EAAEI,GAChFE,EAAoDjB,EAAoB,GACxEkB,EAA8DlB,EAAoB,IAKlFmB,GAJ8DnB,EAAoB,KAE5BA,EAAoB,IAExBA,EAAoB,IAG/F,SAASI,IAOHgB,OAAOR,EAA8C,UAArDQ,EAAwD,WAAWC,SAASC,MAAM,mBAAmB,IAAI,IAA4IC,EAASH,OAAOP,EAAmE,EAA1EO,GAAmFI,EAAUJ,OAAOR,EAA6C,SAApDQ,CAAuD,CAACK,SAAS,GAAGC,YAAY,GAAGC,SAAS,GAAGC,aAAa,GAAGC,OAAO,KAAKC,EAAWV,OAAOZ,EAA4J,EAAnKY,CAAsKI,EAAU,GAAGO,EAASD,EAAW,GAAGE,EAAYF,EAAW,GAAOG,EAAWb,OAAOR,EAA6C,SAApDQ,EAAuD,GAAMc,EAAWd,OAAOZ,EAA4J,EAAnKY,CAAsKa,EAAW,GAAGE,EAAMD,EAAW,GAAGE,EAASF,EAAW,GAAOG,EAA4B,KAAlBN,EAASF,QAAqC,KAAxBE,EAASH,cAAuC,KAApBG,EAASN,UAAsC,KAAvBM,EAASL,aAAsC,KAApBK,EAASJ,SAAc,SAASW,EAAaC,GAAOP,GAAY,SAASQ,GAAM,OAAOpB,OAAOb,EAA4J,EAAnKa,CAAsKA,OAAOb,EAA4J,EAAnKa,CAAsK,GAAGoB,GAAM,GAAGpB,OAAOd,EAA6J,EAApKc,CAAuK,GAAGmB,EAAME,OAAOC,KAAKH,EAAME,OAAOE,WAAa,IAAIC,EAAc,SAAuBC,GACjyD,GAAwB,MAArBA,EAAIC,KAAa,OAASV,EAASS,EAAIC,KAAc,SAAGC,QAAQC,IAAI,UAAUb,OAAY,CAAC,IAAIc,EAAIJ,EAAIC,KAAS,GACnHvB,EAAS,MAAM2B,OAAOD,GAAK,CAACE,QAAQF,EAAIG,MAAM,GAAGC,SAAQ,MAAcC,EAAkB,SAA2BC,GAAQA,EAAIC,UAEhIT,QAAQC,IAAI,sBAAsBO,EAAIC,SAASV,MAAMC,QAAQC,IAAI,wBAAwBO,EAAIC,SAASC,QAAQV,QAAQC,IAAI,yBAAyBO,EAAIC,SAASE,SAAStB,EAASmB,EAAIC,SAASV,KAAc,UAAYS,EAAII,QAG7NZ,QAAQC,IAAIO,EAAII,SAChBZ,QAAQC,IAAI,QAAQO,EAAIK,SAAUb,QAAQC,IAAIO,EAAIM,SAAcC,EAA0B,WAAW,IAAIC,EAAK3C,OAAOf,EAA+J,EAAtKe,CAAsLV,EAA2IsD,EAAEC,MAAK,SAASC,EAAQ3B,GAAO,OAAO7B,EAA2IsD,EAAEG,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAAS5B,KAAK4B,EAASC,MAAM,KAAK,EAAE9B,EAAM+B,iBAAiBtD,EAA2CgD,EAAEO,KAAK,mBAAmBxC,GAAUyC,MAAK,SAAS3B,GAC3yBD,EAAcC,MAAQ4B,OAAM,SAASlB,GACrCD,EAAkBC,MAQR,KAAK,EAAE,IAAI,MAAM,OAAOa,EAASM,UAAWR,OAAa,OAAO,SAAsBS,GAAI,OAAOZ,EAAKa,MAAMhF,KAAKiF,YAVjC,GAUkD,OAAmBzD,OAAOD,EAAsD,KAA7DC,CAAgE,OAAO,CAAC0D,UAAU,8BAA8BC,SAAS,CAAc3D,OAAOD,EAAsD,KAA7DC,CAAgE,MAAM,CAAC0D,UAAU,8BAA8BC,SAAS,CAAc3D,OAAOD,EAAqD,IAA5DC,CAA+DF,EAA6E,EAAE,IAAiBE,OAAOD,EAAsD,KAA7DC,CAAgE,OAAO,CAAC0D,UAAU,mBAAmBE,SAASlB,EAAaiB,SAAS,CAAc3D,OAAOD,EAAqD,IAA5DC,CAA+D,QAAQ,CAAC0D,UAAU,aAAaG,KAAK,OAAOC,YAAY,WAAW,aAAa,sBAAsBxC,KAAK,WAAWyC,SAAS7C,EAAaK,MAAMZ,EAASN,WAAwBL,OAAOD,EAAqD,IAA5DC,CAA+D,QAAQ,CAAC0D,UAAU,aAAaG,KAAK,OAAOC,YAAY,WAAW,aAAa,sBAAsBxC,KAAK,WAAWyC,SAAS7C,EAAaK,MAAMZ,EAASJ,WAAwBP,OAAOD,EAAqD,IAA5DC,CAA+D,QAAQ,CAAC0D,UAAU,6BAA6BG,KAAK,OAAOG,QAlB1rC,SAAwBC,GAAGA,EAAE5C,OAAOwC,KAAK,QAkBwqCK,OAlB7oC,SAAuBD,GAAGA,EAAE5C,OAAOwC,KAAK,QAkB0nCC,YAAY,gBAAgB,aAAa,2BAA2BxC,KAAK,cAAcyC,SAAS7C,EAAaK,MAAMZ,EAASL,cAA2BN,OAAOD,EAAqD,IAA5DC,CAA+D,QAAQ,CAAC0D,UAAU,aAAaG,KAAK,QAAQC,YAAY,gBAAgB,aAAa,2BAA2BxC,KAAK,eAAeyC,SAAS7C,EAAaK,MAAMZ,EAASH,eAA4BR,OAAOD,EAAqD,IAA5DC,CAA+D,QAAQ,CAAC0D,UAAU,aAAaG,KAAK,WAAWC,YAAY,WAAW,aAAa,sBAAsBxC,KAAK,SAASyC,SAAS7C,EAAaK,MAAMZ,EAASF,SAAsBT,OAAOD,EAAqD,IAA5DC,CAA+D,QAAQ,CAAC0D,UAAU,eAAe5B,OAAOb,EAAW,iBAAkB,UAAU4C,KAAK,SAAStC,MAAM,UAAU4C,SAASlD,OAAeF,GAAoBf,OAAOD,EAAqD,IAA5DC,CAA+D,IAAI,CAAC0D,UAAU,2BAA2BC,SAAS5C,OAAwBf,OAAOD,EAAqD,IAA5DC,CAA+D,MAAM,CAAC0D,UAAU,mBAAmBC,SAAsB3D,OAAOD,EAAsD,KAA7DC,CAAgE,IAAI,CAAC2D,SAAS,CAAC,yBAAsC3D,OAAOD,EAAqD,IAA5DC,CAA+DN,EAA4D,EAAE,CAACgE,UAAU,aAAaU,GAAGvE,EAAiE,EAAE8D,SAAS,qBAIryF,GACA,SAAUjF,EAAQC,EAASC"},"input":"(this[\"webpackJsonpbirdy-client\"] = this[\"webpackJsonpbirdy-client\"] || []).push([[6],{\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Signup; });\n/* harmony import */ var _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(23);\n/* harmony import */ var _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(27);\n/* harmony import */ var _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(26);\n/* harmony import */ var _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(4);\n/* harmony import */ var _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(24);\n/* harmony import */ var _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(9);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(22);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _constants_routes_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(5);\n/* harmony import */ var _atomComponents_Birdy_logo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(10);\n/* harmony import */ var _stylesheets_pages_signup_css__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(107);\n/* harmony import */ var _stylesheets_pages_signup_css__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_stylesheets_pages_signup_css__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _stylesheets_form_css__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(29);\n/* harmony import */ var _stylesheets_form_css__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_stylesheets_form_css__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(2);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__);\n// import { checkAlreadyExist, addUserFromSignup } from \"../database/users.js\";\nfunction Signup(){/*\n    const server_config = {\n        headers: {\n            'Access-Control-Allow-Origin': \"*\",\n            'Content-Type': 'application/json:charset=UTF-8',\n        }\n    }\n    */Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function(){document.title=\"Signup - Birdy\";},[]);var onFocusHandler=function onFocusHandler(e){e.target.type=\"date\";};var onBlurHandler=function onBlurHandler(e){e.target.type=\"text\";};var navigate=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_6__[/* useNavigate */ \"f\"])();var _useState=Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])({username:\"\",dateOfBirth:\"\",fullname:\"\",emailAddress:\"\",passwd:\"\"}),_useState2=Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(true),_useState4=Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState3,2),error=_useState4[0],setError=_useState4[1];var isInvalid=formData.passwd===\"\"||formData.emailAddress===\"\"||formData.username===\"\"||formData.dateOfBirth===\"\"||formData.fullname===\"\";function handleChange(event){setFormData(function(prev){return Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({},prev),{},Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},event.target.name,event.target.value));});};var answer_signup=function answer_signup(res){//console.log('res.data: ', res.data);\nif(res.data['status']!==201){setError(res.data['message']);console.log('error: ',error);}else{var _id=res.data['id'];//console.log('user_id: ', _id);\nnavigate(\"/p/\".concat(_id),{user_id:_id,state:{},replace:true});}};var answer_signup_err=function answer_signup_err(err){if(err.response){// The request was made and the server responded with a status code\n// that falls out of the range of 2xx\nconsole.log('err.response.data: ',err.response.data);console.log('err.response.status: ',err.response.status);console.log('err.response.headers: ',err.response.headers);setError(err.response.data['message']);}else if(err.request){// The request was made but no response was received\n// `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n// http.ClientRequest in node.js\nconsole.log(err.request);}else{// Something happened in setting up the request that triggered an Error\nconsole.log('Error',err.message);}console.log(err.config);};var handleSignup=/*#__PURE__*/function(){var _ref=Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee(event){return _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();axios__WEBPACK_IMPORTED_MODULE_8___default.a.post(\"/api/user/signup\",formData).then(function(res){//console.log('then');\nanswer_signup(res);}).catch(function(err){//console.log('catch');\nanswer_signup_err(err);});/*\n        try{\n            await checkAlreadyExist(formData.username, formData.emailAddress);\n            addUserFromSignup(formData);\n            navigate(ROUTES.PROFILE);\n        } catch (err) {\n            setError(err.message);\n        }\n        */case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSignup(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(\"main\",{className:\"form-page-main column gap20\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(\"div\",{className:\"form-container column gap20\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(_atomComponents_Birdy_logo_js__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"],{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(\"form\",{className:\"base-form column\",onSubmit:handleSignup,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"input\",{className:\"form-input\",type:\"text\",placeholder:\"Username\",\"aria-label\":\"Enter your username\",name:\"username\",onChange:handleChange,value:formData.username}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"input\",{className:\"form-input\",type:\"text\",placeholder:\"Fullname\",\"aria-label\":\"Enter your fullname\",name:\"fullname\",onChange:handleChange,value:formData.fullname}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"input\",{className:\"form-input signup-birthday\",type:\"text\",onFocus:onFocusHandler,onBlur:onBlurHandler,placeholder:\"Date of Birth\",\"aria-label\":\"Enter your date of birth\",name:\"dateOfBirth\",onChange:handleChange,value:formData.dateOfBirth}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"input\",{className:\"form-input\",type:\"email\",placeholder:\"Email address\",\"aria-label\":\"Enter your email address\",name:\"emailAddress\",onChange:handleChange,value:formData.emailAddress}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"input\",{className:\"form-input\",type:\"password\",placeholder:\"Password\",\"aria-label\":\"Enter your password\",name:\"passwd\",onChange:handleChange,value:formData.passwd}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"input\",{className:\"form-submit \".concat(isInvalid&&\"submit-invalid\"||\"submit\"),type:\"submit\",value:\"Sign Up\",disabled:isInvalid})]}),error&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"p\",{className:\"error-message form-error\",children:error})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(\"div\",{className:\"base-form-footer\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsxs\"])(\"p\",{children:[\"Have an account?\\u2002\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[/* Link */ \"b\"],{className:\"link-route\",to:_constants_routes_js__WEBPACK_IMPORTED_MODULE_9__[/* LOGIN */ \"b\"],children:\"Log in\"})]})})]});};\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/node_modules/postcss-loader/src/index.js??postcss!/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/src/stylesheets/pages/signup.css","/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/src/pages/Signup.js","/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/node_modules/postcss-loader/src/index.js??postcss!/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/src/stylesheets/form.css"],"names":["Signup","useEffect","document","title","onFocusHandler","e","target","type","onBlurHandler","navigate","useNavigate","useState","username","dateOfBirth","fullname","emailAddress","passwd","formData","setFormData","error","setError","isInvalid","handleChange","event","prev","name","value","answer_signup","res","data","console","log","_id","user_id","state","replace","answer_signup_err","err","response","status","headers","request","message","config","handleSignup","preventDefault","axios","post","then","catch","ROUTES"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport * as ROUTES from \"../constants/routes.js\";\n\nimport BirdyLogo from \"../atomComponents/Birdy-logo.js\";\nimport \"../stylesheets/pages/signup.css\";\nimport \"../stylesheets/form.css\";\n\n// import { checkAlreadyExist, addUserFromSignup } from \"../database/users.js\";\n\nexport default function Signup(){\n    /*\n    const server_config = {\n        headers: {\n            'Access-Control-Allow-Origin': \"*\",\n            'Content-Type': 'application/json:charset=UTF-8',\n        }\n    }\n    */\n\n    useEffect( () => {\n        document.title = \"Signup - Birdy\";\n    },[]);\n\n    const onFocusHandler = (e) => {\n        e.target.type = \"date\";\n    };\n\n    const onBlurHandler = (e) => {\n        e.target.type = \"text\";\n    };\n\n    const navigate = useNavigate();\n\n    const [formData, setFormData] = useState(\n        {username:\"\", dateOfBirth:\"\", fullname:\"\", emailAddress:\"\", passwd:\"\"}\n    );\n\n    const [error, setError] = useState(true);\n\n    const isInvalid = formData.passwd === \"\" || formData.emailAddress === \"\" \n                        || formData.username === \"\" || formData.dateOfBirth === \"\"\n                        || formData.fullname === \"\";\n\n    function handleChange(event){\n        setFormData( prev => {\n            return {\n                ...prev,\n                [event.target.name]: event.target.value\n            }\n        })\n    };\n\n    const answer_signup = (res) => {\n        //console.log('res.data: ', res.data);\n        if(res.data['status'] !== 201){\n            setError(res.data['message']);\n            console.log('error: ', error);\n        }else{\n            const _id = res.data['id'];\n            //console.log('user_id: ', _id);\n            navigate(`/p/${_id}`, { user_id: _id, state: {}, replace: true, });\n        }\n    }\n\n    const answer_signup_err = (err) => {\n        if (err.response) {\n            // The request was made and the server responded with a status code\n            // that falls out of the range of 2xx\n            console.log('err.response.data: ',    err.response.data);\n            console.log('err.response.status: ',  err.response.status);\n            console.log('err.response.headers: ', err.response.headers);\n            setError(err.response.data['message']);\n        } else if (err.request) {\n            // The request was made but no response was received\n            // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n            // http.ClientRequest in node.js\n            console.log(err.request);\n        } else {\n            // Something happened in setting up the request that triggered an Error\n            console.log('Error', err.message);\n        }\n        \n        console.log(err.config);\n    }\n\n    const handleSignup = async (event) => {\n        event.preventDefault();\n        axios\n            .post(\"/api/user/signup\", formData)\n            .then( (res) => {\n                //console.log('then');\n                answer_signup(res);\n            })\n            .catch( (err) => {\n                //console.log('catch');\n                answer_signup_err(err);\n            });\n        /*\n        try{\n            await checkAlreadyExist(formData.username, formData.emailAddress);\n            addUserFromSignup(formData);\n            navigate(ROUTES.PROFILE);\n        } catch (err) {\n            setError(err.message);\n        }\n        */\n    }\n    \n    return(\n        <main className=\"form-page-main column gap20\">\n            <div className=\"form-container column gap20\">\n                <BirdyLogo />\n                <form className=\"base-form column\" onSubmit={handleSignup}>\n                    <input\n                        className=\"form-input\" \n                        type=\"text\" \n                        placeholder=\"Username\" \n                        aria-label=\"Enter your username\"\n                        name=\"username\"\n                        onChange={handleChange}\n                        value={formData.username}\n                    />\n                    <input\n                        className=\"form-input\" \n                        type=\"text\" \n                        placeholder=\"Fullname\" \n                        aria-label=\"Enter your fullname\"\n                        name=\"fullname\"\n                        onChange={handleChange}\n                        value={formData.fullname}\n                    />\n                    <input\n                        className=\"form-input signup-birthday\"\n                        type=\"text\"\n                        onFocus={onFocusHandler}\n                        onBlur={onBlurHandler}\n                        placeholder=\"Date of Birth\"\n                        aria-label=\"Enter your date of birth\"\n                        name=\"dateOfBirth\"\n                        onChange={handleChange}\n                        value={formData.dateOfBirth}\n                    />\n                    <input\n                        className=\"form-input\" \n                        type=\"email\" \n                        placeholder=\"Email address\" \n                        aria-label=\"Enter your email address\"\n                        name=\"emailAddress\"\n                        onChange={handleChange}\n                        value={formData.emailAddress}\n                    />\n                    <input\n                        className=\"form-input\" \n                        type=\"password\" \n                        placeholder=\"Password\" \n                        aria-label=\"Enter your password\"\n                        name=\"passwd\"\n                        onChange={handleChange}\n                        value={formData.passwd}                   \n                    />\n                    <input \n                        className={`form-submit ${(isInvalid && \"submit-invalid\") || \"submit\"}`}\n                        type=\"submit\" \n                        value=\"Sign Up\"\n                        disabled={isInvalid}\n                    />\n                </form>\n                {error && <p className=\"error-message form-error\">{error}</p>}\n            </div>\n            <div className=\"base-form-footer\">\n                <p>\n                    Have an account?&ensp;\n                    <Link className=\"link-route\" to={ROUTES.LOGIN}>\n                        Log in\n                    </Link>\n                </p>\n            </div>\n        </main>\n    )\n};","// extracted by mini-css-extract-plugin"]}}