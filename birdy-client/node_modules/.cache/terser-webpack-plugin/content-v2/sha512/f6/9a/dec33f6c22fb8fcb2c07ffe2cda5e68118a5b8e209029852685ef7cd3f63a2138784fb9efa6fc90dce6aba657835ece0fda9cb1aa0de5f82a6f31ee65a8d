{"code":"(this[\"webpackJsonpbirdy-client\"]=this[\"webpackJsonpbirdy-client\"]||[]).push([[7],{111:function(e,s,a){\"use strict\";a.r(s),a.d(s,\"default\",(function(){return O}));var t=a(23),n=a(27),r=a(26),c=a(4),o=a(24),i=a.n(o),u=a(0),l=a(1),d=a(9),p=a(22),m=a.n(p),b=a(5),f=a(10),j=(a(29),a(2));function O(){var e=Object(l.f)(),s=Object(u.useState)({emailAddress:\"\",passwd:\"\"}),a=Object(c.a)(s,2),o=a[0],p=a[1],O=Object(u.useState)(\"\"),g=Object(c.a)(O,2),h=g[0],v=g[1],w=\"\"===o.passwd||\"\"===o.emailAddress;function x(e){p((function(s){return Object(r.a)(Object(r.a)({},s),{},Object(n.a)({},e.target.name,e.target.value))}))}Object(u.useEffect)((function(){document.title=\"Login - Birdy\"}),[]);var y=function(){var s=Object(t.a)(i.a.mark((function s(a){var t;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:200!==a.data.status?(v(a.data.message),console.log(\"error: \",h)):(t=a.data.id,e(\"/p/\".concat(t),{state:{},replace:!0}));case 1:case\"end\":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),N=function(e){e.response?(console.log(\"err.response.data: \",e.response.data),console.log(\"err.response.status: \",e.response.status),console.log(\"err.response.headers: \",e.response.headers),v(e.response.data.message),403===e.response.status&&p((function(e){return Object(r.a)(Object(r.a)({},e),{},{passwd:\"\"})}))):e.request?console.log(e.request):console.log(\"Error\",e.message),console.log(e.config)},k=function(){var e=Object(t.a)(i.a.mark((function e(s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.preventDefault(),m.a.post(\"/api/user/login\",o).then((function(e){y(e)})).catch((function(e){N(e)}));case 2:case\"end\":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return Object(j.jsxs)(\"main\",{className:\"form-page-main column gap20\",children:[Object(j.jsxs)(\"div\",{className:\"form-container column gap20\",children:[Object(j.jsx)(f.a,{}),Object(j.jsxs)(\"form\",{className:\"base-form column\",onSubmit:k,children:[Object(j.jsx)(\"input\",{className:\"form-input\",type:\"email\",placeholder:\"Email address\",\"aria-label\":\"Enter your email address\",onChange:x,name:\"emailAddress\",value:o.emailAddress}),Object(j.jsx)(\"input\",{className:\"form-input\",type:\"password\",placeholder:\"Password\",\"aria-label\":\"Enter your password\",onChange:x,name:\"passwd\",value:o.passwd}),Object(j.jsx)(\"input\",{className:\"form-submit \".concat(w?\"submit-invalid\":\"submit\"),type:\"submit\",value:\"Log In\",disabled:w})]}),h&&Object(j.jsx)(\"p\",{className:\"error-message form-error\",children:h})]}),Object(j.jsx)(\"div\",{className:\"base-form-footer\",children:Object(j.jsxs)(\"p\",{children:[\"Don't have an account?\\u2002\",Object(j.jsx)(d.b,{className:\"link-route\",to:b.d,children:\"Sign up\"})]})})]})}},29:function(e,s,a){}}]);","name":"static/js/7.d606e9ca.chunk.js","map":{"version":3,"sources":["static/js/7.d606e9ca.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","d","Login","_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__","_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__","_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__","_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__","_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__","_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default","n","react__WEBPACK_IMPORTED_MODULE_5__","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","axios__WEBPACK_IMPORTED_MODULE_8__","axios__WEBPACK_IMPORTED_MODULE_8___default","_constants_routes_js__WEBPACK_IMPORTED_MODULE_9__","_atomComponents_Birdy_logo_js__WEBPACK_IMPORTED_MODULE_10__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__","navigate","Object","_useState","emailAddress","passwd","_useState2","formData","setFormData","_useState3","_useState4","error","setError","isInvalid","handleChange","event","prev","target","name","value","document","title","answer_login","_ref","a","mark","_callee","res","_id","wrap","_context","next","data","console","log","concat","state","replace","stop","_x","apply","arguments","answer_login_err","err","response","status","headers","request","message","config","handleLogin","_ref2","_callee2","_context2","preventDefault","post","then","catch","_x2","className","children","onSubmit","type","placeholder","onChange","disabled","to","exports"],"mappings":"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"},"input":"(this[\"webpackJsonpbirdy-client\"] = this[\"webpackJsonpbirdy-client\"] || []).push([[7],{\n\n/***/ 111:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Login; });\n/* harmony import */ var _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(23);\n/* harmony import */ var _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(27);\n/* harmony import */ var _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(26);\n/* harmony import */ var _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(4);\n/* harmony import */ var _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(24);\n/* harmony import */ var _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(9);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(22);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _constants_routes_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(5);\n/* harmony import */ var _atomComponents_Birdy_logo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(10);\n/* harmony import */ var _stylesheets_form_css__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(29);\n/* harmony import */ var _stylesheets_form_css__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_stylesheets_form_css__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(2);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__);\n// import * as ERROR_MSG from \"../constants/errorMessages.js\";\n// import { checkLogin } from \"../database/users.js\";\nfunction Login(){var navigate=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_6__[/* useNavigate */ \"f\"])();var _useState=Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])({emailAddress:\"\",passwd:\"\"}),_useState2=Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(\"\"),_useState4=Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState3,2),error=_useState4[0],setError=_useState4[1];var isInvalid=formData.passwd===\"\"||formData.emailAddress===\"\";Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function(){document.title=\"Login - Birdy\";},[]);function handleChange(event){setFormData(function(prev){return Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({},prev),{},Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},event.target.name,event.target.value));});};var answer_login=/*#__PURE__*/function(){var _ref=Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee(res){var _id;return _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://console.log('res.data: ', res.data);\nif(res.data['status']!==200){setError(res.data['message']);console.log('error: ',error);}else{_id=res.data['id'];//console.log('user_id: ', _id);\nnavigate(\"/p/\".concat(_id),{state:{},replace:true});}case 1:case\"end\":return _context.stop();}}},_callee);}));return function answer_login(_x){return _ref.apply(this,arguments);};}();var answer_login_err=function answer_login_err(err){if(err.response){// The request was made and the server responded with a status code\n// that falls out of the range of 2xx\nconsole.log('err.response.data: ',err.response.data);console.log('err.response.status: ',err.response.status);console.log('err.response.headers: ',err.response.headers);setError(err.response.data['message']);if(err.response.status===403){setFormData(function(prev){return Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({},prev),{},{passwd:\"\"});});}}else if(err.request){// The request was made but no response was received\n// `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n// http.ClientRequest in node.js\nconsole.log(err.request);}else{// Something happened in setting up the request that triggered an Error\nconsole.log('Error',err.message);}console.log(err.config);};var handleLogin=/*#__PURE__*/function(){var _ref2=Object(_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/_home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee2(event){return _home_mrbigoudi_Documents_Projects_Birdy_birdy_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();axios__WEBPACK_IMPORTED_MODULE_8___default.a.post(\"/api/user/login\",formData).then(function(res){//console.log('then');\nanswer_login(res);}).catch(function(err){//console.log('catch');\nanswer_login_err(err);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function handleLogin(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"main\",{className:\"form-page-main column gap20\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"div\",{className:\"form-container column gap20\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(_atomComponents_Birdy_logo_js__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"],{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"form\",{className:\"base-form column\",onSubmit:handleLogin,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"input\",{className:\"form-input\",type:\"email\",placeholder:\"Email address\",\"aria-label\":\"Enter your email address\",onChange:handleChange,name:\"emailAddress\",value:formData.emailAddress}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"input\",{className:\"form-input\",type:\"password\",placeholder:\"Password\",\"aria-label\":\"Enter your password\",onChange:handleChange,name:\"passwd\",value:formData.passwd}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"input\",{className:\"form-submit \".concat(isInvalid&&\"submit-invalid\"||\"submit\"),type:\"submit\",value:\"Log In\",disabled:isInvalid})]}),error&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"p\",{className:\"error-message form-error\",children:error})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"div\",{className:\"base-form-footer\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"p\",{children:[\"Don't have an account?\\u2002\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[/* Link */ \"b\"],{className:\"link-route\",to:_constants_routes_js__WEBPACK_IMPORTED_MODULE_9__[/* SIGN_UP */ \"d\"],children:\"Sign up\"})]})})]});};\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/src/pages/Login.js","/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/node_modules/postcss-loader/src/index.js??postcss!/home/mrbigoudi/Documents/Projects/Birdy/birdy-client/src/stylesheets/form.css"],"names":["Login","navigate","useNavigate","useState","emailAddress","passwd","formData","setFormData","error","setError","isInvalid","useEffect","document","title","handleChange","event","prev","target","name","value","answer_login","res","data","console","log","_id","state","replace","answer_login_err","err","response","status","headers","request","message","config","handleLogin","preventDefault","axios","post","then","catch","ROUTES"],"mappings":"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","file":"x","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport * as ROUTES from \"../constants/routes.js\";\n// import * as ERROR_MSG from \"../constants/errorMessages.js\";\n\nimport BirdyLogo from \"../atomComponents/Birdy-logo.js\";\nimport \"../stylesheets/form.css\";\n\n// import { checkLogin } from \"../database/users.js\";\n\nexport default function Login(){\n\n    const navigate = useNavigate();\n\n    const [formData, setFormData] = useState(\n        {emailAddress:\"\", passwd:\"\"}\n    );\n\n    const [error, setError] = useState(\"\");\n\n    const isInvalid = formData.passwd === \"\" || formData.emailAddress === \"\";\n\n    useEffect( () => {\n        document.title = \"Login - Birdy\";\n    }, []);\n\n    function handleChange(event){\n        setFormData( prev => {\n            return {\n                ...prev,\n                [event.target.name]: event.target.value\n            }\n        })\n    };\n\n    const answer_login = async (res) => {\n        //console.log('res.data: ', res.data);\n        if(res.data['status'] !== 200){\n            setError(res.data['message']);\n            console.log('error: ', error);\n        }else{\n            const _id = res.data['id'];\n            //console.log('user_id: ', _id);\n            navigate(`/p/${_id}`, { state: {}, replace: true, });\n        }\n    }\n\n    const answer_login_err = (err) => {\n        if (err.response) {\n            // The request was made and the server responded with a status code\n            // that falls out of the range of 2xx\n            console.log('err.response.data: ',    err.response.data);\n            console.log('err.response.status: ',  err.response.status);\n            console.log('err.response.headers: ', err.response.headers);\n            setError(err.response.data['message']);\n            if(err.response.status === 403){\n                setFormData( prev => {return {...prev, passwd:\"\"}});\n            }\n        } else if (err.request) {\n            // The request was made but no response was received\n            // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n            // http.ClientRequest in node.js\n            console.log(err.request);\n        } else {\n            // Something happened in setting up the request that triggered an Error\n            console.log('Error', err.message);\n        }\n        \n        console.log(err.config);\n    }\n\n    const handleLogin = async (event) => {\n        event.preventDefault();\n        axios\n            .post(\"/api/user/login\", formData)\n            .then( (res) => {\n                //console.log('then');\n                answer_login(res);\n            })\n            .catch( (err) => {\n                //console.log('catch');\n                answer_login_err(err);\n            });\n    }\n\n    return(\n        <main className=\"form-page-main column gap20\">\n            <div className=\"form-container column gap20\">\n                <BirdyLogo />\n                <form className=\"base-form column\" onSubmit={handleLogin}>\n                    <input\n                        className=\"form-input\" \n                        type=\"email\" \n                        placeholder=\"Email address\" \n                        aria-label=\"Enter your email address\"\n                        onChange={handleChange}\n                        name=\"emailAddress\"\n                        value={formData.emailAddress}\n                    />\n                    <input\n                        className=\"form-input\" \n                        type=\"password\" \n                        placeholder=\"Password\" \n                        aria-label=\"Enter your password\"\n                        onChange={handleChange}\n                        name=\"passwd\"\n                        value={formData.passwd}                        \n                    />\n                    <input \n                        className={`form-submit ${(isInvalid && \"submit-invalid\") || \"submit\"}`}\n                        type=\"submit\" \n                        value=\"Log In\"\n                        disabled={isInvalid}\n                    />\n                </form>\n                {error && <p className=\"error-message form-error\">{error}</p>}\n            </div>\n            <div className=\"base-form-footer\">\n                <p>\n                    Don't have an account?&ensp;\n                    <Link className=\"link-route\" to={ROUTES.SIGN_UP}>\n                        Sign up\n                    </Link>\n                </p>\n            </div>\n        </main>\n    )\n};","// extracted by mini-css-extract-plugin"]}}