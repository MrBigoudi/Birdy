(this["webpackJsonpbirdy-client"]=this["webpackJsonpbirdy-client"]||[]).push([[7],{111:function(e,s,a){"use strict";a.r(s),a.d(s,"default",(function(){return O}));var t=a(23),n=a(27),r=a(26),c=a(4),o=a(24),i=a.n(o),u=a(0),l=a(1),d=a(9),p=a(22),m=a.n(p),b=a(5),f=a(10),j=(a(29),a(2));function O(){var e=Object(l.f)(),s=Object(u.useState)({emailAddress:"",passwd:""}),a=Object(c.a)(s,2),o=a[0],p=a[1],O=Object(u.useState)(""),g=Object(c.a)(O,2),h=g[0],v=g[1],w=""===o.passwd||""===o.emailAddress;function x(e){p((function(s){return Object(r.a)(Object(r.a)({},s),{},Object(n.a)({},e.target.name,e.target.value))}))}Object(u.useEffect)((function(){document.title="Login - Birdy"}),[]);var y=function(){var s=Object(t.a)(i.a.mark((function s(a){var t;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:200!==a.data.status?(v(a.data.message),console.log("error: ",h)):(t=a.data.id,e("/p/".concat(t),{state:{},replace:!0}));case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),N=function(e){e.response?(console.log("err.response.data: ",e.response.data),console.log("err.response.status: ",e.response.status),console.log("err.response.headers: ",e.response.headers),v(e.response.data.message),403===e.response.status&&p((function(e){return Object(r.a)(Object(r.a)({},e),{},{passwd:""})}))):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)},k=function(){var e=Object(t.a)(i.a.mark((function e(s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.preventDefault(),m.a.post("/api/user/login",o).then((function(e){y(e)})).catch((function(e){N(e)}));case 2:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return Object(j.jsxs)("main",{className:"form-page-main column gap20",children:[Object(j.jsxs)("div",{className:"form-container column gap20",children:[Object(j.jsx)(f.a,{}),Object(j.jsxs)("form",{className:"base-form column",onSubmit:k,children:[Object(j.jsx)("input",{className:"form-input",type:"email",placeholder:"Email address","aria-label":"Enter your email address",onChange:x,name:"emailAddress",value:o.emailAddress}),Object(j.jsx)("input",{className:"form-input",type:"password",placeholder:"Password","aria-label":"Enter your password",onChange:x,name:"passwd",value:o.passwd}),Object(j.jsx)("input",{className:"form-submit ".concat(w?"submit-invalid":"submit"),type:"submit",value:"Log In",disabled:w})]}),h&&Object(j.jsx)("p",{className:"error-message form-error",children:h})]}),Object(j.jsx)("div",{className:"base-form-footer",children:Object(j.jsxs)("p",{children:["Don't have an account?\u2002",Object(j.jsx)(d.b,{className:"link-route",to:b.d,children:"Sign up"})]})})]})}},29:function(e,s,a){}}]);
//# sourceMappingURL=7.d606e9ca.chunk.js.map